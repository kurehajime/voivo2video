# 連絡帳

## 2026-01-31
- vvproj の talk セリフ時間を高速算出し、話速とポーズ倍率を反映
- 字幕用 Remotion ステージを追加して vvproj から字幕表示
- 字幕用の config/test vvproj を public に追加し、sound.wav を再生
- 話者ごとの字幕色上書きに対応し、config 仕様に合わせて speakers 配列を利用
- 字幕の折り返し指定を追加（overflow-wrap / word-break / line-break）
- 立ち絵表示の土台を追加し、All/Subtitles/Character の出力モードを生成
- 立ち絵の話者連動と左右反転オプションを実装し、めたん画像を config に追加
- 口パクの active/通常切替を2枚のアクティブ画像で交互表示に変更
- 口パクの伸縮アニメーション速度を話速に合わせて調整
- WAV 指定時は WAV 長で尺を決定し、All 以外は音声を再生しないように調整
- 透過出力のため ProRes 4444 + PNG + yuva444p10le に固定
- 疑問形の上げモーラ分（0.15秒）を常に加算するように変更

## 2026-02-02
- 字幕フォント未適用の初期フレーム問題に対応するため、config に `localFonts` を追加
- Stage 側で localFonts を先読みし、`document.fonts.ready` 完了後にレンダー継続するよう修正
- sample 設定をローカルTTF運用に変更し、Google Fonts の `@import` 依存を解消

## 2026-02-22
- `public/override.json` を読み込み、audioItems 単位の立ち絵差し替えに対応
- 該当セリフ中は override 画像を優先して表示するよう Character を拡張
- `docs/config仕様.md` に override.json の仕様を追記
